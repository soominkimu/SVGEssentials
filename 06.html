<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SVG Essentials</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h2>SVG Essentials by J. Eisenberg and A. Bellamy-Royds, 2nd ed</h2>
  <h3>Chap.6 Transforming the Coordinate System</h3>
  <div class="container">
    <div class="cell0101">
      <div class="cellid">cell0101</div>
      <h4>The translate Transformation</h4>
      <svg width="200px" height="200px" viewBox="0 0 200 200">
        <g id="square01">
          <rect x="0" y="0" width="20" height="20" style="fill:black; stroke-width:2;"/>
        </g>
        <use xlink:href="#square01" x="50" y="50"/>
        <use xlink:href="#square01" transform="translate(100,100)" style="fill:pink; stroke:red;"/>
        <!-- fill:pink will not work -->
      </svg>
    </div>
    <div class="cell0201">
      <div class="cellid">cell0201</div>
      <h4>transform="translate(50,50)"</h4>
      <svg width="240px" height="240px" viewBox="0 0 240 240">
        <defs>
          <marker id="arrowhead" markerWidth="5" markerHeight="10" refX="5" refY="5" orient="auto">
            <path d="M 0 0 5 5 0 10 Z" style="fill:#c00;"/>
          </marker>
          <line id="arrow" x1="0" y1="0" x2="50" y2="50"
            style="stroke-dasharray:4 2; marker-end: url(#arrowhead)"/>

          <g id="svgGrid">
            <use xlink:href="images/grid_parts.svg#tickmarks" x="35" y="35" style="stroke:#666"/>
            <use xlink:href="images/grid_parts.svg#numbers" x="35" y="35" style="fill:#666"/>
            <use xlink:href="images/grid_parts.svg#grid" x="35" y="35" style="stroke:#ccc"/>
            <use xlink:href="images/grid_parts.svg#axes" x="35" y="35" style="stroke:#666"/>
          </g>
        </defs>
        <g id="svgGrid02">
          <use xlink:href="images/grid_parts.svg#tickmarks" x="35" y="35" style="stroke:#999"/>
          <use xlink:href="images/grid_parts.svg#numbers" x="35" y="35" style="fill:#999"/>
          <use xlink:href="images/grid_parts.svg#dashed-frame" x="35" y="35" style="stroke:#999"/>
          <use xlink:href="#arrow" transform="translate(35,35)" style="stroke:#c00; fill:none"/>
        </g>
          <g id="square02">
            <rect x="0" y="0" width="20" height="20" transform="translate(35,35)"
              style="fill:none; stroke:black; stroke-width:2;"/>
          </g>
          <use xlink:href="#square02" transform="translate(50,50)"/>
          <use xlink:href="#svgGrid" transform="translate(50,50)">
      </svg>
    </div>
    <div class="cell0301">
      <div class="cellid">cell0301</div>
      <h4>The scale Transformation</h4>
      <svg width="200px" height="200px" viewBox="0 0 200 200">
        <g id="square03" transform="translate(55,55)">
          <rect x="10" y="10" width="20" height="20" style="fill:none; stroke:black;"/>
        </g>
        <g id="transformedGrid" style="font-family: sans-serif; font-size: 8pt;">
          <g id="hNumbers" style="text-anchor:middle" transform="translate(55,40)">
            <text x="0" y="-15">0</text>
            <text x="40" y="-15">20</text>
            <text x="80" y="-15">40</text>
            <text x="120" y="-15">60</text>
          </g>
          <g id="vNumbers" style="text-anchor:end" transform="translate(35,55)">
            <text x="-15" y="4">0</text>
            <text x="-15" y="44">20</text>
            <text x="-15" y="84">40</text>
            <text x="-15" y="124">60</text>
          </g>
        </g>
        <use xlink:href="#svgGrid" transform="translate(20,20)"/>
        <use xlink:href="#square03" transform="translate(-55,-55) scale(2)"/>
        <rect x="10" y="10" width="20" height="20" style="fill:none; stroke:blue;" transform="translate(55,55) scale(3,1.5)"/>
      </svg>
    </div>
    <div class="cell0401">
      <div class="cellid">cell0401</div>
      <h4>Transforming a group or a single graphic</h4>
      <svg width="200px" height="200px" viewBox="0 0 200 200">
        <g id="group1" transform="translate(3,5)">
          <line x1="10" y1="10" x2="30" y2="30" style="stroke:blue;"/>
          <circle cx="20" cy="20" r="10" style="fill:none; stroke:red;"/>
        </g>
        <!-- grid guide lines in non-scaled coordinate system -->
        <line x1="0" y1="0" x2="100" y2="0" style="stroke: black;"/>
        <line x1="0" y1="0" x2="0" y2="100" style="stroke: black;"/>
        <line x1="45" y1="0" x2="45" y2="100" style="stroke: gray;"/>
        <line x1="0" y1="60" x2="100" y2="60" style="stroke: gray;"/>
        <!-- rectangle to be transformed -->
        <rect x="15" y="20" width="10" height="5" transform="scale(3)" style="fill:none; stroke:black;"/>
      </svg>
    </div>
    <div class="cell0102">
      <div class="cellid">cell0102</div>
      <h4>Sequences of Transformations</h4>
      <svg width="200px" height="200px" viewBox="0 0 200 200">
        <use xlink:href="#svgGrid"/>
        <use xlink:href="#svgGrid" transform="translate(30,20)"/>
        <rect x="10" y="10" height="15" width="20" transform="translate(65,55) scale(2)" style="fill:rgba(0,127,0,0.5)"/>
        <g transform="translate(65,55)">
          <g transform="scale(2)">
            <rect x="10" y="10" height="15" width="20" style="fill:none; stroke:blue;"/>
          </g>
        </g>
        <defs>
          <line id="arrow2" x1="0" y1="0" x2="30" y2="20"
              style="stroke-dasharray:4 2; marker-end: url(#arrowhead)"/>
        </defs>
        <use xlink:href="#arrow2" transform="translate(35,35)" style="stroke:#c00; fill:none"/>
      </svg>
    </div>
    <div class="cell0202">
      <div class="cellid">cell0202</div>
      <h4>scale followed by translate</h4>
      <svg width="200px" height="200px" viewBox="0 0 200 200">
        <!-- draw axes -->
        <line x1="0" y1="0" x2="0" y2="100" style="stroke:gray;"/>
        <line x1="0" y1="0" x2="100" y2="0" style="stroke:gray;"/>
        <rect x="10" y="10" height="15" width="20" transform="translate(30,20) scale(2)" style="fill:rgba(0,127,0,0.5)"/>
        <rect x="10" y="10" height="15" width="20" transform="scale(2) translate(30,20)" style="fill:rgba(127,0,0,0.5)"/>
      </svg>
    </div>
    <div class="cell0302">
      <div class="cellid">cell0302</div>
      <h4>Converting from Cartesian Coordinates</h4>
      <svg width="200px" height="100px" viewBox="0 0 200 100">
        <!-- draw axes -->
        <line x1="0" y1="0" x2="0" y2="100" style="stroke:gray;"/>
        <line x1="0" y1="0" x2="100" y2="0" style="stroke:gray;"/>
        <!-- trapezoid -->
        <polygon points="40 40, 100 40, 70 70, 40 70" style="fill:rgba(127,0,0,0.5); stroke:black;"/>
      </svg>
      <svg width="200px" height="100px" viewBox="0 0 200 100">
        <g transform="translate(0,100) scale(1,-1)">
          <!-- draw axes -->
          <line x1="0" y1="0" x2="0" y2="100" style="stroke:gray;"/>
          <line x1="0" y1="0" x2="100" y2="0" style="stroke:gray;"/>
          <!-- trapezoid -->
          <polygon points="40 40, 100 40, 70 70, 40 70" style="fill:rgba(127,0,0,0.5); stroke:black;"/>
        </g>
      </svg>
    </div>
    <div class="cell0402">
      <div class="cellid">cell0402</div>
      <h4>The rotate Transformation</h4>
      <svg width="200px" height="120px" viewBox="0 0 200 120">
        <!-- draw axes -->
        <polyline points="100 0, 0 0, 0 100" style="stroke:gray; fill:none;"/>
        <!-- normal and rotated square -->
        <rect x="70" y="30" width="20" height="20" style="fill:rgba(127,127,127,0.5);"/>
        <rect x="70" y="30" width="20" height="20" style="fill:rgba(0,0,127,0.5);" transform="rotate(15)"/>
        <rect x="70" y="30" width="20" height="20" style="fill:blue;" transform="rotate(30)"/>
        <rect x="70" y="30" width="20" height="20" style="fill:black;" transform="rotate(45)"/>
      </svg>
    </div>
    <div class="cell0103">
      <div class="cellid">cell0103</div>
      <h4>Rotation around a center point</h4>
      <svg width="200px" height="120px" viewBox="0 0 200 120">
        <!-- center of rotation -->
        <circle cx="50" cy="50" r="3" style="fill:black;"/>
        <!-- non-rotated arrow -->
        <g id="arrow3" style="stroke:black;">
          <line x1="60" y1="50" x2="90" y2="50"/>
          <polygon points="90 50, 85 45, 85 55"/>
        </g>
        <!-- rotated around center point -->
        <use xlink:href="#arrow3" transform="rotate(60, 50, 50)" style="fill:red;"/>
        <use xlink:href="#arrow3" transform="rotate(-90, 50, 50)" style="fill:magenta;"/>
        <use xlink:href="#arrow3" transform="rotate(-150, 50, 50)" style="fill:pink;"/>
      </svg>
    </div>
    <div class="cell0203">
      <div class="cellid">cell0203</div>
      <h4>Scaling Around a Center Point</h4>
      <svg width="200px" height="120px" viewBox="0 0 200 120">
        <!-- center of scaling -->
        <circle cx="50" cy="50" r="2" style="fill:black;"/>
        <!-- non-scaled rectangle -->
        <g id="box" style="stroke:black; fill:none;">
          <rect x="35" y="40" width="30" height="20"/>
        </g>
        <use xlink:href="#box" transform="translate(-50,-50) scale(2)" style="stroke-width:0.5;"/>
        <use xlink:href="#box" transform="translate(-75,-75) scale(2.5)" style="stroke-width:0.4;"/>
        <use xlink:href="#box" transform="translate(-100,-100) scale(3)" style="stroke-width:0.33;"/>
      </svg>
    </div>
    <div class="cell0303">
      <div class="cellid">cell0303</div>
      <h4>The skewX and skewY Transformations</h4>
      <svg width="240px" height="120px" viewBox="0 0 240 120">
        <!-- guide lines -->
        <g style="stroke:gray; stroke-dasharray:4.4;">
          <line x1="0" y1="0" x2="200" y2="0"/>
          <line x1="20" y1="0" x2="20" y2="90"/>
          <line x1="120" y1="0" x2="120" y2="90"/>
        </g>
        <g transform="translate(20,10)">
          <g transform="skewX(30)">
            <polyline points="50 0, 0 0, 0 50" style="fill:none; stroke:red; stroke-width:2;"/>
            <text x="0" y="60">skewX</text>
          </g>
        </g>
        <g transform="translate(120,10)">
          <g transform="skewY(30)">
            <polyline points="50 0, 0 0, 0 50" style="fill:none; stroke:blue; stroke-width:2;"/>
            <text x="0" y="60">skewY</text>
          </g>
        </g>
      </svg>
    </div>
    <div class="cell0403">
      <div class="cellid">cell0403</div>
    </div>
  </div>
</body>
</html>
